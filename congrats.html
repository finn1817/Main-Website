<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>No Way, You Made It! - Dan Finn</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --transition-speed: 0.4s;
      --primary-gradient: linear-gradient(135deg, #0d6efd, #1a8cff);
      --secondary-gradient: linear-gradient(135deg, #1f914d, #24b474);
      --celebration-gradient: linear-gradient(135deg, #ff8a05, #ffb300, #ffd54f, #aeea00);
      --card-glass: rgba(255,255,255,0.18);
      --text-color: #ffffff;
      --background-image: url('./assets/images/background-light.jpg');
    }

    /* Light Theme */
    body.light {
      --primary-gradient: linear-gradient(135deg, #007bff, #4dabf7);
      --secondary-gradient: linear-gradient(135deg, #28a745, #20c997);
      --celebration-gradient: linear-gradient(135deg, #ff6b35, #f7931e, #ffd700, #7cb342);
      --card-glass: rgba(255,255,255,0.18);
      --text-color: #ffffff;
      --background-image: url('./assets/images/background-light.jpg');
    }

    /* Dark Theme */
    body.dark {
      --primary-gradient: linear-gradient(135deg, #004b9a, #006bce);
      --secondary-gradient: linear-gradient(135deg, #137a3d, #149f55);
      --celebration-gradient: linear-gradient(135deg, #ff9100, #ffca28, #ffee58, #b2ff59);
      --card-glass: rgba(20,20,28,0.78);
      --text-color: #e3e9f3;
      --background-image: url('./assets/images/background-dark.jpg');
    }

    /* Neon Theme */
    body.neon {
      --primary-gradient: linear-gradient(135deg, #ff0080, #ff4099);
      --secondary-gradient: linear-gradient(135deg, #00ff88, #33ff99);
      --celebration-gradient: linear-gradient(135deg, #ff0080, #ff4099, #00ff88, #33ffaa);
      --card-glass: rgba(10,0,20,0.85);
      --text-color: #ffffff;
      --background-image: linear-gradient(135deg, #0a0015 0%, #1a0030 50%, #0f0020 100%);
    }

    /* Sunset Theme */
    body.sunset {
      --primary-gradient: linear-gradient(135deg, #ff6b35, #ff8e53);
      --secondary-gradient: linear-gradient(135deg, #ffd23f, #ffe066);
      --celebration-gradient: linear-gradient(135deg, #ff6b35, #ff8e53, #ffd23f, #ffe066);
      --card-glass: rgba(255,100,50,0.15);
      --text-color: #2a1810;
      --background-image: linear-gradient(135deg, #ff9a56 0%, #ffad85 50%, #ffc3a0 100%);
    }

    /* Ocean Theme */
    body.ocean {
      --primary-gradient: linear-gradient(135deg, #006994, #0099cc);
      --secondary-gradient: linear-gradient(135deg, #20b2aa, #48cae4);
      --celebration-gradient: linear-gradient(135deg, #006994, #0099cc, #20b2aa, #48cae4);
      --card-glass: rgba(0,50,100,0.25);
      --text-color: #ffffff;
      --background-image: linear-gradient(135deg, #023047 0%, #126782 50%, #219ebc 100%);
    }

    /* Forest Theme */
    body.forest {
      --primary-gradient: linear-gradient(135deg, #2d5016, #3d6b1c);
      --secondary-gradient: linear-gradient(135deg, #52b788, #74c69d);
      --celebration-gradient: linear-gradient(135deg, #2d5016, #52b788, #74c69d, #95d5b2);
      --card-glass: rgba(45,80,22,0.3);
      --text-color: #ffffff;
      --background-image: linear-gradient(135deg, #1b4332 0%, #2d5a3d 50%, #52796f 100%);
    }

    /* Purple Theme */
    body.purple {
      --primary-gradient: linear-gradient(135deg, #6a4c93, #8b5fbf);
      --secondary-gradient: linear-gradient(135deg, #c77dff, #e0aaff);
      --celebration-gradient: linear-gradient(135deg, #6a4c93, #8b5fbf, #c77dff, #e0aaff);
      --card-glass: rgba(106,76,147,0.2);
      --text-color: #ffffff;
      --background-image: linear-gradient(135deg, #3c1361 0%, #5a189a 50%, #7209b7 100%);
    }

    /* Gold Theme */
    body.gold {
      --primary-gradient: linear-gradient(135deg, #b8860b, #daa520);
      --secondary-gradient: linear-gradient(135deg, #ffd700, #ffed4a);
      --celebration-gradient: linear-gradient(135deg, #b8860b, #daa520, #ffd700, #ffed4a);
      --card-glass: rgba(218,165,32,0.2);
      --text-color: #2a1f0a;
      --background-image: linear-gradient(135deg, #8b4513 0%, #daa520 50%, #ffd700 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background: var(--background-image);
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      color: var(--text-color);
      overflow-x: hidden;
      overflow-y: auto;
      position: relative;
      padding-top: 90px;
      transition: all var(--transition-speed) ease;
    }

    body.dark { color: var(--text-color); }

    @keyframes gradient-shift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Confetti Animation */
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background: #ffd700;
      animation: confetti-fall 3s linear infinite;
    }

    .confetti:nth-child(odd) {
      background: #ff6b35;
      width: 8px;
      height: 8px;
      animation-duration: 2.5s;
    }

    .confetti:nth-child(3n) {
      background: #23d5ab;
      width: 6px;
      height: 6px;
      animation-duration: 3.5s;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(-100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
      }
    }

    /* Main Content */
    .celebration-container {
      text-align: center;
      background: var(--card-glass);
      backdrop-filter: blur(10px);
      border-radius: 30px;
      padding: 48px 28px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      transform: scale(0);
      animation: celebration-appear 1s ease-out 0.5s forwards;
      max-width: 600px;
      width: 90%;
      /* keep container visible on smaller viewports */
      max-height: calc(100vh - 80px);
      overflow-y: auto;
      position: relative;
      overflow-x: hidden;
      padding-bottom: 110px; /* ensure tabs always visible */
      /* promote to its own compositing layer for crisper rendering */
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      will-change: transform;
    }

    body.dark .celebration-container { border: 1px solid rgba(255,255,255,0.12); }

    @keyframes celebration-appear {
      0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
      }
      50% {
        transform: scale(1.1) rotate(-90deg);
      }
      100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }

    .celebration-container::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: var(--celebration-gradient);
      border-radius: 30px;
      z-index: -1;
      animation: border-glow 2s ease-in-out infinite alternate;
    }

    @keyframes border-glow {
      0% { opacity: 0.5; }
      100% { opacity: 1; }
    }

    .main-title {
      font-size: 3.5em;
      margin-bottom: 20px;
      background: var(--celebration-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: title-bounce 2s ease-in-out infinite;
      /* sharper appearance: reduce heavy blurred shadow and enable font smoothing */
      text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.18);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      /* force GPU compositing for crisper text */
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
    }

    @keyframes title-bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-10px);
      }
      60% {
        transform: translateY(-5px);
      }
    }

    .subtitle {
      font-size: 1.4em;
      margin-bottom: 30px;
      opacity: 0;
      animation: fade-slide-in 1s ease-out 1.5s forwards;
      line-height: 1.6;
    }

    @keyframes fade-slide-in {
      0% {
        opacity: 0;
        transform: translateY(30px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .achievement-text {
      font-size: 1.1em;
      margin: 20px 0;
      opacity: 0;
      animation: fade-slide-in 1s ease-out 2s forwards;
      background: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 15px;
      border-left: 4px solid #ffd700;
    }

    .celebration-emoji {
      font-size: 4em;
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 90px;
      height: 90px;
      margin: 10px 0 25px;
      animation: emoji-dance 2s ease-in-out infinite;
      position: relative;
      cursor: pointer;
      user-select: none;
    }

    .hold-indicator {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: conic-gradient(var(--primary-gradient) 0deg, rgba(255,255,255,0.08) 0deg 360deg);
      opacity: 0;
      transform: scale(0.8);
      transition: opacity 0.2s ease, transform 0.2s ease;
      z-index: -1;
    }

    .celebration-emoji.holding .hold-indicator { opacity: 1; transform: scale(1); }

    .portal-toast {
      position: fixed;
      bottom: 90px;
      left: 50%;
      transform: translateX(-50%) translateY(30px);
      background: rgba(0,0,0,0.55);
      color: #fff;
      padding: 10px 18px;
      border-radius: 30px;
      font-size: 0.9em;
      backdrop-filter: blur(8px);
      box-shadow: 0 6px 24px rgba(0,0,0,0.35);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.35s ease, transform 0.35s ease;
      z-index: 4000;
    }
    body.light .portal-toast { background: rgba(255,255,255,0.35); color:#111; }
    .portal-toast.show { opacity:1; transform: translateX(-50%) translateY(0); }

    .portal-effect {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: radial-gradient(circle at center, #fff 0%, #4dabf7 40%, transparent 70%);
      pointer-events: none;
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      z-index: 4500;
    }
    .portal-effect.active { animation: portal-burst 1.6s ease forwards; }
    @keyframes portal-burst {
      0% { transform: translate(-50%, -50%) scale(0); opacity:1; filter: blur(0px); }
      50% { transform: translate(-50%, -50%) scale(40); opacity:0.9; filter: blur(6px); }
      100% { transform: translate(-50%, -50%) scale(85); opacity:0; filter: blur(18px); }
    }

    @keyframes emoji-dance {
      0%, 50%, 100% {
        transform: rotate(0deg) scale(1);
      }
      25% {
        transform: rotate(-10deg) scale(1.1);
      }
      75% {
        transform: rotate(10deg) scale(1.1);
      }
    }

    .back-button {
      display: inline-block;
      background: var(--primary-gradient);
      color: white;
      padding: 15px 30px;
      text-decoration: none;
      border-radius: 25px;
      font-weight: 500;
      margin-top: 30px;
      transition: all var(--transition-speed) ease;
      box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
      opacity: 0;
      animation: fade-slide-in 1s ease-out 2.5s forwards;
      position: relative;
      overflow: hidden;
    }

    .back-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .back-button:hover::before {
      left: 100%;
    }

    .back-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 123, 255, 0.4);
    }

    /* Easter Egg Discovery Counter */
    .discovery-counter {
      position: fixed;
      bottom: 16px;
      right: 16px;
      background: rgba(255,255,255,0.35);
      padding: 10px 16px;
      border-radius: 24px;
      font-size: 0.85em;
      opacity: 0;
      animation: fade-slide-in 1s ease-out 1.2s forwards;
      backdrop-filter: blur(6px);
      box-shadow: 0 4px 18px rgba(0,0,0,0.35);
      z-index: 3500;
      color:#111;
    }

    body.dark .discovery-counter { background: rgba(0,0,0,0.55); color:#fafafa; }

    /* Fireworks Effect */
    .firework {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #ffd700;
      border-radius: 50%;
      animation: firework-explode 2s ease-out infinite;
    }

    @keyframes firework-explode {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      50% {
        transform: scale(1);
        opacity: 1;
      }
      100% {
        transform: scale(2);
        opacity: 0;
      }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .main-title {
        font-size: 2.5em;
      }
      
      .celebration-container {
        padding: 40px 20px;
      }
      
      .subtitle {
        font-size: 1.2em;
      }
    }
    /* Tab bar and modal styles */
    .tab-bar {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-top: 18px;
      flex-wrap: wrap;
    }

    .tab-btn {
      background: rgba(255,255,255,0.06);
      color: white;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.08);
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 500;
    }

    .tab-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.25);
    }

    body.dark .tab-btn { background: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.15); }
    body.dark .tab-btn:hover { box-shadow: 0 6px 22px rgba(0,0,0,0.55); }

    /* Modal base */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 3000;
      padding: 20px;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal-card {
      background: rgba(255,255,255,0.95);
      border-radius: 14px;
      padding: 20px;
      max-width: 560px;
      width: 100%;
      color: #333;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      border: 1px solid rgba(0,0,0,0.1);
      max-height: 80vh;
      overflow: auto;
      backdrop-filter: blur(10px);
    }

    body.dark .modal-card {
      background: rgba(20,20,30,0.95);
      color: #e3e9f3;
      border: 1px solid rgba(255,255,255,0.15);
      box-shadow: 0 10px 40px rgba(0,0,0,0.7);
    }

    .modal-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: transparent;
      border: none;
      color: #666;
      font-size: 1.2em;
      cursor: pointer;
      transition: color 0.2s ease;
    }

    .modal-close:hover {
      color: #333;
    }

    body.dark .modal-close {
      color: #bbb;
    }

    body.dark .modal-close:hover {
      color: #fff;
    }

    /* Theme Dropdown Styles */
    .theme-dropdown {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 3600;
    }

    .theme-toggle-btn {
      background: rgba(255,255,255,0.06);
      color: white;
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.08);
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 500;
      font-size: 1.05em;
      display: flex;
      align-items: center;
      gap: 6px;
      backdrop-filter: blur(8px);
    }

    .theme-toggle-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(0,0,0,0.25);
      background: rgba(255,255,255,0.12);
    }

    .theme-dropdown-menu {
      position: absolute;
      top: 100%;
      right: 0;
      background: rgba(20,20,30,0.95);
      border-radius: 12px;
      padding: 8px;
      min-width: 160px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.4);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255,255,255,0.1);
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      margin-top: 8px;
    }

    .theme-dropdown.open .theme-dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .theme-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      color: #e3e9f3;
      font-size: 0.9em;
    }

    .theme-option:hover {
      background: rgba(255,255,255,0.08);
      transform: translateX(4px);
    }

    .theme-option.active {
      background: var(--primary-gradient);
      color: white;
    }

    .theme-icon {
      font-size: 1.1em;
      width: 20px;
      text-align: center;
    }

    /* Neon Theme Special Effects */
    body.neon .celebration-container {
      box-shadow: 
        0 0 20px rgba(255, 0, 128, 0.3),
        0 0 40px rgba(255, 64, 153, 0.2),
        0 20px 60px rgba(0, 0, 0, 0.8);
      border: 1px solid rgba(255, 0, 128, 0.4);
    }

    body.neon .celebration-container::before {
      box-shadow: 0 0 30px rgba(255, 0, 128, 0.6);
    }

    body.neon .tab-btn {
      box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
      border-color: rgba(0, 255, 136, 0.4);
    }

    body.neon .tab-btn:hover {
      box-shadow: 0 0 25px rgba(0, 255, 136, 0.6);
    }

    /* Sunset Theme Special Effects */
    body.sunset .celebration-container {
      box-shadow: 
        0 0 20px rgba(255, 107, 53, 0.3),
        0 20px 60px rgba(255, 140, 83, 0.2);
    }

    /* Ocean Theme Special Effects */
    body.ocean .celebration-container {
      box-shadow: 
        0 0 20px rgba(0, 105, 148, 0.4),
        0 20px 60px rgba(32, 178, 170, 0.2);
    }

    /* Forest Theme Special Effects */
    body.forest .celebration-container {
      box-shadow: 
        0 0 20px rgba(45, 80, 22, 0.4),
        0 20px 60px rgba(82, 183, 136, 0.2);
    }

    /* Purple Theme Special Effects */
    body.purple .celebration-container {
      box-shadow: 
        0 0 20px rgba(106, 76, 147, 0.4),
        0 20px 60px rgba(199, 125, 255, 0.2);
    }

    /* Gold Theme Special Effects */
    body.gold .celebration-container {
      box-shadow: 
        0 0 20px rgba(218, 165, 32, 0.4),
        0 20px 60px rgba(255, 215, 0, 0.3);
      border-color: rgba(255, 215, 0, 0.3);
    }
  </style>
</head>
<body class="light">
  <div class="theme-dropdown" id="themeDropdown">
    <button class="theme-toggle-btn" id="themeToggleBtn">
      <span id="currentThemeIcon">🌙</span>
      <span>Theme</span>
      <span style="font-size: 0.8em;">▼</span>
    </button>
    <div class="theme-dropdown-menu" id="themeDropdownMenu">
      <div class="theme-option" data-theme="light">
        <span class="theme-icon">☀️</span>
        <span>Light</span>
      </div>
      <div class="theme-option" data-theme="dark">
        <span class="theme-icon">🌙</span>
        <span>Dark</span>
      </div>
      <div class="theme-option" data-theme="neon">
        <span class="theme-icon">⚡</span>
        <span>Neon</span>
      </div>
      <div class="theme-option" data-theme="sunset">
        <span class="theme-icon">🌅</span>
        <span>Sunset</span>
      </div>
      <div class="theme-option" data-theme="ocean">
        <span class="theme-icon">🌊</span>
        <span>Ocean</span>
      </div>
      <div class="theme-option" data-theme="forest">
        <span class="theme-icon">🌲</span>
        <span>Forest</span>
      </div>
      <div class="theme-option" data-theme="purple">
        <span class="theme-icon">💜</span>
        <span>Purple</span>
      </div>
      <div class="theme-option" data-theme="gold">
        <span class="theme-icon">✨</span>
        <span>Gold</span>
      </div>
    </div>
  </div>
  <!-- Confetti Elements -->
  <div class="confetti" style="left: 10%; animation-delay: 0s;"></div>
  <div class="confetti" style="left: 20%; animation-delay: 0.2s;"></div>
  <div class="confetti" style="left: 30%; animation-delay: 0.4s;"></div>
  <div class="confetti" style="left: 40%; animation-delay: 0.6s;"></div>
  <div class="confetti" style="left: 50%; animation-delay: 0.8s;"></div>
  <div class="confetti" style="left: 60%; animation-delay: 1s;"></div>
  <div class="confetti" style="left: 70%; animation-delay: 1.2s;"></div>
  <div class="confetti" style="left: 80%; animation-delay: 1.4s;"></div>
  <div class="confetti" style="left: 90%; animation-delay: 1.6s;"></div>

  <!-- Main Celebration Content -->
  <div class="celebration-container">
    <div class="celebration-emoji" id="portalEmoji" title="" aria-label="Celebration Emoji">
      <div class="hold-indicator" id="holdIndicator"></div>
      🎉
    </div>
    <h1 class="main-title">No Way, You Made It!</h1>
    <p class="subtitle">Congratulations! You discovered the hidden Easter egg!</p>
    <div class="achievement-text">
      <strong>🏆 Achievement Unlocked:</strong> Master Detective<br>
      You successfully found and activated the secret triple-click Easter egg hidden in the corner of the homepage. Your curiosity and persistence have paid off!
    </div>
    <div class="achievement-text">
      <strong>🎯 Fun Fact:</strong> Only the most observant visitors discover this hidden gem. You're now part of an exclusive club of digital explorers!
    </div>
    <a href="index.html" class="back-button">← Back to Homepage</a>
  <!-- discovery counter moved outside container below -->
    <!-- Tab bar for extra interactions -->
    <div class="tab-bar" role="tablist" aria-label="Extra actions">
      <button class="tab-btn" id="tab-stats">📊 Stats</button>
      <button class="tab-btn" id="tab-secret">🔐 Secret</button>
      <button class="tab-btn" id="tab-share">🔗 Share</button>
    </div>
  </div>

  <div class="discovery-counter">Easter Egg #1 Discovered! 🥚</div>
  <div class="portal-toast" id="portalToast" role="status" aria-live="polite"></div>
  <div class="portal-effect" id="portalEffect"></div>

  <!-- Fireworks Effects -->
  <div class="firework" style="top: 20%; left: 20%; animation-delay: 1s;"></div>
  <div class="firework" style="top: 30%; left: 80%; animation-delay: 1.5s;"></div>
  <div class="firework" style="top: 60%; left: 30%; animation-delay: 2s;"></div>
  <div class="firework" style="top: 70%; left: 70%; animation-delay: 2.5s;"></div>

  <!-- Modals -->
  <div class="modal-overlay" id="modalStats" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="statsTitle">
      <button class="modal-close" data-close>&times;</button>
      <h3 id="statsTitle">Visitor Stats</h3>
      <p id="visitorCountText">Checking your achievement status...</p>
      <p>Local discoveries: <strong id="localDiscoveries">0</strong></p>
      <p>Tip: Try finding more hidden bits on the site!</p>
    </div>
  </div>

  <div class="modal-overlay" id="modalSecret" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="secretTitle">
      <button class="modal-close" data-close>&times;</button>
      <h3 id="secretTitle">A Little Secret</h3>
      <p>Because you found this, here's a short message:</p>
      <blockquote style="margin:12px 0;padding:12px;background:rgba(0,0,0,0.15);border-radius:8px;">Curiosity fuels creativity. Keep exploring!</blockquote>
      <p><small>This message is shown only to discoverers.</small></p>
    </div>
  </div>

  <div class="modal-overlay" id="modalShare" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="shareTitle">
      <button class="modal-close" data-close>&times;</button>
      <h3 id="shareTitle">Share Your Find</h3>
      <p>Copy a short message to share your discovery:</p>
      <textarea id="shareText" style="width:100%;height:80px;border-radius:8px;padding:8px;background:rgba(0,0,0,0.12);color:white;border:1px solid rgba(255,255,255,0.06);">I found a hidden Easter egg on Dan Finn's site! Check it out: {url}</textarea>
      <div style="margin-top:12px;display:flex;gap:8px;align-items:center;">
        <button class="tab-btn" id="copyShare">Copy Message</button>
        <button class="tab-btn" id="openShare" style="background:var(--secondary-gradient);">Open Share Link</button>
        <span id="shareResult" style="opacity:0;transition:opacity 0.2s;color:#bfffbf;margin-left:8px;">Copied!</span>
      </div>
    </div>
  </div>

  <script>
    // Theme system (local to this page only)
    const CONGRATS_THEME_KEY = 'congrats_page_theme';
    const bodyEl = document.body;
    const themeDropdown = document.getElementById('themeDropdown');
    const themeToggleBtn = document.getElementById('themeToggleBtn');
    const themeDropdownMenu = document.getElementById('themeDropdownMenu');
    const currentThemeIcon = document.getElementById('currentThemeIcon');
    
    const themes = {
      light: { icon: '☀️', name: 'Light' },
      dark: { icon: '🌙', name: 'Dark' },
      neon: { icon: '⚡', name: 'Neon' },
      sunset: { icon: '🌅', name: 'Sunset' },
      ocean: { icon: '🌊', name: 'Ocean' },
      forest: { icon: '🌲', name: 'Forest' },
      purple: { icon: '💜', name: 'Purple' },
      gold: { icon: '✨', name: 'Gold' }
    };

    function getCurrentTheme() {
      return localStorage.getItem(CONGRATS_THEME_KEY) || 'light';
    }

    function applyTheme(themeName) {
      // Remove all theme classes
      Object.keys(themes).forEach(theme => {
        bodyEl.classList.remove(theme);
      });
      
      // Apply new theme
      bodyEl.classList.add(themeName);
      localStorage.setItem(CONGRATS_THEME_KEY, themeName);
      
      // Update UI
      currentThemeIcon.textContent = themes[themeName].icon;
      
      // Update active state in dropdown
      document.querySelectorAll('.theme-option').forEach(option => {
        option.classList.toggle('active', option.dataset.theme === themeName);
      });
    }

    // Initialize theme
    applyTheme(getCurrentTheme());

    // Theme dropdown toggle
    themeToggleBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      themeDropdown.classList.toggle('open');
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!themeDropdown.contains(e.target)) {
        themeDropdown.classList.remove('open');
      }
    });

    // Handle theme selection
    document.querySelectorAll('.theme-option').forEach(option => {
      option.addEventListener('click', (e) => {
        e.stopPropagation();
        const themeName = option.dataset.theme;
        applyTheme(themeName);
        themeDropdown.classList.remove('open');
      });
    });

    // Add more dynamic confetti
    function createConfetti() {
      for (let i = 0; i < 50; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.animationDelay = Math.random() * 3 + 's';
        confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
        
        // Random colors
        const colors = ['#ffd700', '#ff6b35', '#23d5ab', '#e73c7e', '#23a6d5'];
        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
        
        document.body.appendChild(confetti);
        
        // Remove confetti after animation
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }
    }

    // Create confetti on page load
    setTimeout(createConfetti, 1000);
    
    // Create more confetti every 3 seconds
    setInterval(createConfetti, 3000);

    // Add celebration sound effect (optional - commented out to avoid autoplay issues)
    // const audio = new Audio('data:audio/wav;base64,UklGRvIGAABXQVZFZm10IBAAAAABA...');
    // audio.volume = 0.3;
    // setTimeout(() => audio.play(), 1000);

    console.log("🎉 Congratulations! You found the Easter egg! 🎉");
    // -------- SECOND EASTER EGG (Portal Unlock) --------
    // Mechanic: Long-press the 🎉 emoji for 1.8s (or right click & hold) then quickly type the sequence P O R T A L.
    // Feedback given via a toast. On success: animated portal & redirect to portal.html.
    const portalEmoji = document.getElementById('portalEmoji');
    const portalToast = document.getElementById('portalToast');
    const holdIndicator = document.getElementById('holdIndicator');
    const portalEffect = document.getElementById('portalEffect');
    let holdTimer = null;
    let holdProgressInterval = null;
    let holdStartTime = 0;
    const HOLD_DURATION = 1800; // ms
    let portalArmed = false;
    let keySequence = '';
    const TARGET_SEQUENCE = 'PORTAL';
    let portalUnlocked = false;

    function showToast(msg, persist=false){
      portalToast.textContent = msg;
      portalToast.classList.add('show');
      if(!persist){
        clearTimeout(portalToast._t);
        portalToast._t = setTimeout(()=>portalToast.classList.remove('show'),2200);
      }
    }

    function resetHoldVisual(){
      holdIndicator.style.background = 'conic-gradient(var(--primary-gradient) 0deg, rgba(255,255,255,0.08) 0deg 360deg)';
      portalEmoji.classList.remove('holding');
    }

    function startHold(){
      if(portalUnlocked) return;
      portalEmoji.classList.add('holding');
      holdStartTime = performance.now();
      holdTimer = setTimeout(()=>{
        portalArmed = true;
        showToast('Sequence armed! Type PORTAL', true);
      }, HOLD_DURATION);
      holdProgressInterval = setInterval(()=>{
        const elapsed = performance.now() - holdStartTime;
        const pct = Math.min(elapsed / HOLD_DURATION, 1);
        const deg = Math.round(pct*360);
        holdIndicator.style.background = `conic-gradient(var(--celebration-gradient) 0deg ${deg}deg, rgba(255,255,255,0.08) ${deg}deg 360deg)`;
      }, 60);
    }
    function cancelHold(){
      clearTimeout(holdTimer); holdTimer=null;
      clearInterval(holdProgressInterval); holdProgressInterval=null;
      if(!portalArmed) resetHoldVisual();
    }

    ['mousedown','touchstart','contextmenu'].forEach(evt=>{
      portalEmoji.addEventListener(evt,(e)=>{ if(evt==='contextmenu'){ e.preventDefault(); } startHold(); });
    });
    ['mouseup','mouseleave','touchend','touchcancel','blur'].forEach(evt=>{
      portalEmoji.addEventListener(evt,()=>{ cancelHold(); });
    });

    document.addEventListener('keydown',(e)=>{
      if(!portalArmed || portalUnlocked) return;
      if(e.key.length===1) {
        keySequence += e.key.toUpperCase();
        showToast(`Sequence: ${keySequence}`);
        if(!TARGET_SEQUENCE.startsWith(keySequence)){
          showToast('Sequence reset');
          keySequence='';
        } else if(keySequence === TARGET_SEQUENCE){
          portalUnlocked = true;
          showToast('Portal opening...');
          portalToast._t && clearTimeout(portalToast._t);
          // visual effect
          portalEffect.classList.add('active');
          setTimeout(()=>{ window.location.href='portal.html'; },1400);
        }
      } else if(e.key==='Escape') {
        keySequence=''; portalArmed=false; resetHoldVisual(); showToast('Cancelled');
      }
    });

    
    // --- Tabs & Modals Behavior ---
    const tabStats = document.getElementById('tab-stats');
    const tabSecret = document.getElementById('tab-secret');
    const tabShare = document.getElementById('tab-share');

    const modalStats = document.getElementById('modalStats');
    const modalSecret = document.getElementById('modalSecret');
    const modalShare = document.getElementById('modalShare');

    function openModal(modal) {
      modal.classList.add('active');
      modal.setAttribute('aria-hidden', 'false');
      // trap focus lightly: focus first button
      const btn = modal.querySelector('.modal-close');
      if (btn) btn.focus();
    }

    function closeModal(modal) {
      modal.classList.remove('active');
      modal.setAttribute('aria-hidden', 'true');
    }

    document.querySelectorAll('.modal-close').forEach(b => b.addEventListener('click', (e) => {
      const overlay = e.target.closest('.modal-overlay');
      if (overlay) closeModal(overlay);
    }));

    // close on overlay click
    document.querySelectorAll('.modal-overlay').forEach(o => o.addEventListener('click', (e) => {
      if (e.target === o) closeModal(o);
    }));

    tabStats.addEventListener('click', () => openModal(modalStats));
    tabSecret.addEventListener('click', () => openModal(modalSecret));
    tabShare.addEventListener('click', () => openModal(modalShare));

    // --- Visitor Counter (local) and stats ---
    const localKey = 'congrats_discoveries_v1';
    function bumpLocalDiscoveries() {
      try {
        const raw = localStorage.getItem(localKey);
        let count = raw ? parseInt(raw, 10) : 0;
        count = isNaN(count) ? 0 : count;
        count += 1;
        localStorage.setItem(localKey, String(count));
        return count;
      } catch (err) { return 0; }
    }

    // when this page is opened, increment local discovery count
    const localCount = bumpLocalDiscoveries();
    const localDiscoveriesNode = document.getElementById('localDiscoveries');
    if (localDiscoveriesNode) localDiscoveriesNode.textContent = String(localCount);

    const visitorCountText = document.getElementById('visitorCountText');
    if (visitorCountText) visitorCountText.textContent = `You've opened this page ${localCount} time${localCount===1? '' : 's'} on this browser.`;

    // --- Share actions ---
    const copyShare = document.getElementById('copyShare');
    const openShare = document.getElementById('openShare');
    const shareText = document.getElementById('shareText');
    const shareResult = document.getElementById('shareResult');

    if (shareText) {
      shareText.value = shareText.value.replace('{url}', window.location.href.replace('congrats.html','index.html'));
    }

    copyShare.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(shareText.value);
        shareResult.style.opacity = '1';
        setTimeout(() => shareResult.style.opacity = '0', 2000);
      } catch (err) {
        shareResult.style.opacity = '1';
        shareResult.textContent = 'Failed to copy';
        setTimeout(() => { shareResult.style.opacity = '0'; shareResult.textContent = 'Copied!'; }, 2000);
      }
    });

    openShare.addEventListener('click', () => {
      const u = encodeURIComponent(shareText.value);
      const twitter = `https://twitter.com/intent/tweet?text=${u}`;
      window.open(twitter, '_blank');
    });

    // Accessibility: allow Esc to close modals
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal-overlay.active').forEach(m => closeModal(m));
      }
    });
  </script>
</body>
</html>
