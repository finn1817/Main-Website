<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>The Portal Chamber</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  :root {
    /* Core palette */
    --accent: #6f8dff;
    --accent-alt: #8b5cf6; /* replaces previous green variant for consistency */
    --accent-glow: #9fb8ff;
    --text-primary: #ecf2ff;
    --text-dim: #9aa7c2;
    --panel-bg: rgba(255,255,255,0.05);
    --panel-border: rgba(255,255,255,0.12);
    --radius-xl: 30px;
    --focus-ring: 0 0 0 3px rgba(111,141,255,0.55);
    --gradient-accent: linear-gradient(135deg,#6f8dff,#3d62ff);
    --gradient-accent-alt: linear-gradient(135deg,#8b5cf6,#5d32c9);
    --easing-spring: cubic-bezier(.16,.8,.34,1);
  }
  * { box-sizing: border-box; margin:0; padding:0; }
  body {
    font-family: 'Roboto', sans-serif;
    background:
      radial-gradient(circle at 50% 55%, #162034 0%, #090d14 65%, #05070a 100%);
    color:var(--text-primary);
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
    -webkit-font-smoothing: antialiased;
    position:relative;
  }

  /* Subtle animated particle field */
  canvas#particles { position:absolute; inset:0; width:100%; height:100%; pointer-events:none; }
  .sphere-wrapper {
    position:relative; width:340px; height:340px; display:flex;align-items:center;justify-content:center;
    filter: drop-shadow(0 0 18px rgba(111,141,255,0.45));
    perspective:1200px;
  }
  .sphere {
    position:relative; width:100%; height:100%; border-radius:50%;
    background:radial-gradient(circle at 28% 30%, var(--accent) 0%, #24386f 38%, #0d1324 70%, #060a15 100%);
    animation: pulse 6s ease-in-out infinite;
    box-shadow:0 0 0 1px rgba(255,255,255,0.06),0 0 35px 10px rgba(111,141,255,0.25) inset,0 0 120px -10px rgba(111,141,255,0.45);
    overflow:hidden;
    transform-style:preserve-3d;
    will-change: transform;
  }
  .sphere::after { content:""; position:absolute; inset:-2px; border-radius:inherit; background:conic-gradient(from 0deg,#6f8dff22,#8b5cf644,#6f8dff22 70%); animation: spinAura 10s linear infinite; mix-blend-mode:screen; pointer-events:none; }
  @keyframes spinAura { to { transform:rotate(360deg);} }
  .ring { position:absolute; top:50%; left:50%; width:180%; height:180%; border:2px solid rgba(255,255,255,0.08); border-radius:50%; transform:translate(-50%,-50%) rotateX(65deg); animation: spin 18s linear infinite; backdrop-filter: blur(2px); }
  .ring:nth-child(2){ width:150%; height:150%; animation-direction:reverse; animation-duration:28s; }
  .ring:nth-child(3){ width:120%; height:120%; animation-duration:36s; }
  @keyframes spin { to { transform:translate(-50%,-50%) rotateX(65deg) rotateZ(360deg); } }
  @keyframes pulse { 0%,100%{ transform:scale(1);} 50%{ transform:scale(1.04);} }
  h1 { text-align:center; font-size:2.2rem; letter-spacing:1.5px; margin-top:30px; background:linear-gradient(90deg,#ffffff,#b8c8ff,#ffffff); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; animation: shimmer 6s linear infinite; font-weight:700; }
  @keyframes shimmer { 0%{ background-position:0% 50%; } 100%{ background-position:200% 50%; } }
  .panel { max-width:680px; padding:34px 40px 52px; background:var(--panel-bg); backdrop-filter:blur(22px) saturate(160%); border:1px solid var(--panel-border); border-radius:var(--radius-xl); box-shadow:0 30px 70px -18px rgba(0,0,0,0.65), 0 6px 24px rgba(0,0,0,0.45); text-align:center; position:relative; overflow:hidden; }
  .panel::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 70% 20%,rgba(111,141,255,.18),transparent 60%), radial-gradient(circle at 20% 80%,rgba(139,92,246,.22),transparent 65%); mix-blend-mode:overlay; pointer-events:none; }
  .panel::after { content:""; position:absolute; inset:-1px; border-radius:inherit; padding:1px; background:linear-gradient(160deg,rgba(255,255,255,0.5),rgba(111,141,255,0.4) 35%,rgba(139,92,246,0.4) 65%,rgba(255,255,255,0.15)); -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude; pointer-events:none; }
  p { margin:16px 0 12px; line-height:1.55; font-size:0.97rem; color:var(--text-dim); }
  p strong { color:var(--text-primary); }
  .badge { display:inline-flex; align-items:center; gap:6px; background:var(--gradient-accent); padding:6px 16px 7px; border-radius:999px; font-size:0.68rem; letter-spacing:1.2px; font-weight:600; color:#fff; box-shadow:0 0 0 2px rgba(255,255,255,0.05),0 4px 14px rgba(111,141,255,0.38); text-transform:uppercase; margin-top:8px; }
  .badge::before { content:"‚òÖ"; font-size:0.7rem; }
  .actions { margin-top:34px; display:flex; gap:16px; justify-content:center; flex-wrap:wrap; }
  .btn { position:relative; background:var(--gradient-accent); color:#fff; padding:14px 30px; border:none; border-radius:16px; cursor:pointer; font-size:0.9rem; font-weight:600; letter-spacing:0.6px; transition:transform .5s var(--easing-spring), box-shadow .45s, filter .45s; box-shadow:0 10px 28px -8px rgba(64,93,255,0.55), 0 2px 8px rgba(0,0,0,0.4); isolation:isolate; }
  .btn:focus-visible { outline:none; box-shadow: var(--focus-ring), 0 10px 28px -8px rgba(64,93,255,0.55); }
  .btn::after { content:""; position:absolute; inset:0; border-radius:inherit; background:linear-gradient(120deg,rgba(255,255,255,0.75),transparent 40% 60%,rgba(255,255,255,0.55)); opacity:0; mix-blend-mode:overlay; transition:opacity .6s; }
  .btn:hover { transform:translateY(-5px) scale(1.03); box-shadow:0 20px 40px -12px rgba(64,93,255,0.65), 0 6px 16px -4px rgba(0,0,0,0.55); }
  .btn:hover::after { opacity:1; }
  .btn:active { transform:translateY(-1px) scale(.97); transition-duration:.15s; }
  .btn.alt { background:var(--gradient-accent-alt); box-shadow:0 10px 28px -8px rgba(139,92,246,0.55), 0 2px 8px rgba(0,0,0,0.45); }
  .btn.alt:hover { box-shadow:0 20px 40px -12px rgba(139,92,246,0.6), 0 6px 16px -4px rgba(0,0,0,0.55); }
  .btn.neu { background:linear-gradient(135deg,#2b3550,#1b2435); box-shadow:0 12px 26px -10px rgba(0,0,0,0.6); }
  .btn.neu:hover { box-shadow:0 18px 34px -10px rgba(0,0,0,0.65); }
  .copy-wrap { position:relative; display:inline-flex; align-items:center; gap:10px; margin-top:14px; }
  .copy-wrap button { background:linear-gradient(135deg,#202b3c,#192231); padding:8px 14px; border-radius:10px; font-size:0.7rem; letter-spacing:.8px; border:1px solid rgba(255,255,255,0.08); color:#d2dbef; cursor:pointer; display:inline-flex; align-items:center; gap:6px; transition:.35s; }
  .copy-wrap button:hover { color:#fff; background:#273449; }
  .copy-feedback { position:absolute; top:-32px; left:50%; transform:translateX(-50%) scale(.8); background:#111a28; padding:4px 10px; border-radius:6px; font-size:0.65rem; opacity:0; letter-spacing:.5px; pointer-events:none; transition:.35s; box-shadow:0 4px 14px -4px rgba(0,0,0,0.6); }
  .copy-feedback.show { opacity:1; transform:translateX(-50%) scale(1); }
  footer { margin-top:30px; font-size:0.68rem; opacity:.55; letter-spacing:.55px; }
  .glyphs { margin-top:14px; font-size:1.15rem; letter-spacing:10px; opacity:.58; user-select:none; }

  /* Teaser bar */
  .teaser { margin:38px auto 4px; display:flex; align-items:center; justify-content:center; gap:10px; font-size:0.7rem; letter-spacing:.65px; color:var(--text-dim); opacity:.75; }
  .teaser span.lock { font-size:.85rem; filter:drop-shadow(0 0 4px rgba(111,141,255,.5)); }

  /* Responsive tweaks */
  @media (max-width:780px) {
    .sphere-wrapper { width:270px; height:270px; }
    h1 { font-size:1.9rem; margin-top:26px; }
    .panel { padding:30px 26px 46px; }
    .actions { gap:12px; }
    .btn { padding:12px 22px; }
  }
  @media (max-width:520px) {
    .sphere-wrapper { width:220px; height:220px; }
    h1 { font-size:1.65rem; }
    .glyphs { letter-spacing:6px; }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .sphere, .ring, .sphere::after, h1 { animation: none !important; }
  }

  /* Cursor-chasing square */
  #chaseSquare {
    position:fixed;
    top:0; left:0;
    width:30px; height:30px;
    background:#ffffff;
    border:3px solid #ff0000;
    border-radius:8px;
    box-shadow:0 0 20px rgba(255,255,255,0.8), 0 0 40px rgba(255,0,0,0.6);
    pointer-events:none;
    z-index:9999;
    opacity:1;
    mix-blend-mode:normal;
    transition:opacity .4s, filter .4s;
    will-change:transform;
  }
  #chaseSquare.paused { opacity:0.7; filter:grayscale(.25) brightness(.85); }
  @media (prefers-reduced-motion: reduce) { #chaseSquare { display:none; } }
</style>
</head>
<body>
  <canvas id="particles" aria-hidden="true"></canvas>
  <div id="chaseSquare" aria-hidden="true"></div>
  <div class="panel">
    <div class="sphere-wrapper">
      <div class="sphere">
        <div class="ring"></div>
        <div class="ring"></div>
        <div class="ring"></div>
      </div>
    </div>
    <h1>Portal Unlocked</h1>
    <span class="badge">EASTER EGG #2</span>
    <p>You mastered the long-press + secret sequence challenge. This hidden chamber confirms your elite explorer status.</p>
    <p>Remember the password: <strong>PORTAL</strong>. It may come in handy for future secrets.</p>
    <div class="copy-wrap" role="group" aria-label="Password actions">
      <button id="copyPass" aria-label="Copy password"><span>üìã</span> COPY PASSWORD</button>
      <div class="copy-feedback" id="copyFeedback" role="status" aria-live="polite">Copied!</div>
    </div>
    <div class="glyphs">‚ö° ‚ú® üúÇ üúÅ üúÑ</div>
    <div class="actions">
      <button class="btn" onclick="window.location.href='index.html'">Return Home</button>
      <button class="btn alt" onclick="window.location.href='congrats.html'">Back to Egg #1</button>
      <button class="btn neu" id="futureBtn" disabled title="Coming soon">Future Chamber</button>
    </div>
    <div class="teaser"><span class="lock">üîí</span> Future portal sequences will appear here ‚Äì stay curious.</div>
    <footer>Sequence: Long Press + PORTAL ‚Ä¢ Crafted for curiosity</footer>
  </div>
  <script>
    // Interactive sphere tilt
    const sphere = document.querySelector('.sphere');
    let rect;
    function updateRect(){ rect = sphere.getBoundingClientRect(); }
    updateRect();
    window.addEventListener('resize', updateRect);
    document.addEventListener('pointermove', e => {
      if(!rect) return;
      const x = (e.clientX - rect.left)/rect.width - 0.5;
      const y = (e.clientY - rect.top)/rect.height - 0.5;
      sphere.style.transform = `rotateX(${(-y*12).toFixed(2)}deg) rotateY(${(x*18).toFixed(2)}deg)`;
    });
    document.addEventListener('pointerleave', () => { sphere.style.transform=''; });

    // Copy password
    const copyBtn = document.getElementById('copyPass');
    const feedback = document.getElementById('copyFeedback');
    copyBtn.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText('PORTAL');
        feedback.textContent = 'Copied!';
      } catch(err){
        feedback.textContent = 'Failed';
      }
      feedback.classList.add('show');
      setTimeout(()=> feedback.classList.remove('show'), 1700);
    });

    // Particle canvas
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    let particles = [];
    function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
    window.addEventListener('resize', resize); resize();
    const COUNT = Math.min(160, Math.round(innerWidth/10));
    for(let i=0;i<COUNT;i++){ particles.push({
      x: Math.random()*canvas.width,
      y: Math.random()*canvas.height,
      r: Math.random()*1.8 + 0.4,
      a: Math.random()*Math.PI*2,
      s: Math.random()*0.25 + 0.05,
      o: Math.random()*0.5+0.15
    }); }
    function tick(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      for(const p of particles){
        p.x += Math.cos(p.a)*p.s; p.y += Math.sin(p.a)*p.s*0.6; p.a += 0.002;
        if(p.x < -50) p.x = canvas.width+50; if(p.x > canvas.width+50) p.x = -50;
        if(p.y < -50) p.y = canvas.height+50; if(p.y > canvas.height+50) p.y = -50;
        const g = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*4);
        g.addColorStop(0,`rgba(159,184,255,${p.o})`);
        g.addColorStop(1,'rgba(159,184,255,0)');
        ctx.fillStyle = g;
        ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill();
      }
      requestAnimationFrame(tick);
    }
    if(!matchMedia('(prefers-reduced-motion: reduce)').matches) tick();

    // --- Chasing square effect ---
    const chase = document.getElementById('chaseSquare');
    const panel = document.querySelector('.panel');
    let chaseX = 50, chaseY = 50, targetX = 50, targetY = 50;
    const chaseSpeed = 0.08; // slower for more delay
    let panelRect = panel.getBoundingClientRect();
    window.addEventListener('resize', () => { panelRect = panel.getBoundingClientRect(); });

    // Initialize position
    chase.style.transform = `translate3d(${chaseX}px, ${chaseY}px, 0)`;

    function animateChase(){
      chaseX += (targetX - chaseX) * chaseSpeed;
      chaseY += (targetY - chaseY) * chaseSpeed;
      chase.style.transform = `translate3d(${chaseX.toFixed(2)}px, ${chaseY.toFixed(2)}px, 0)`;
      requestAnimationFrame(animateChase);
    }
    
    // Always start the animation (even with reduced motion)
    animateChase();

    document.addEventListener('pointermove', e => {
      if(!panelRect) return;
      const inside = e.clientX >= panelRect.left && e.clientX <= panelRect.right && e.clientY >= panelRect.top && e.clientY <= panelRect.bottom;
      if(inside){
        chase.classList.add('paused');
        // drift slowly when paused
        targetX += (panelRect.left * 0.1 - targetX) * 0.02;
        targetY += (panelRect.top * 0.1 - targetY) * 0.02;
      } else {
        chase.classList.remove('paused');
        targetX = e.clientX - 15; // center the 30px square
        targetY = e.clientY - 15;
      }
    });
  </script>
</body>
</html>
